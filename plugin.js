module.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=29)}([,,,,,function(e,t){e.exports=require("path")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t,n,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r|=0;return r};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){var t=/import (.+?) from ['"]resplendence['"]/,n=e.match(t);return n?n[1]:null};t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=function(e){return e&&e.__esModule?e:{default:e}}(r),u=function(e,t){return"resplendent-"+(0,i.default)(e)+"-"+t};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(5),u=r(i),o=n(6),s=r(o),l=function(e,t,n){return u.default.join(e,".generated","resplendent-"+(0,s.default)(t)+".g"+n)};t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return RegExp(e+"(\\(((.|[\\s\\S]])+?)\\))?`(--(\\d+))?((.|[\\s\\S])*?)`","g")};t.default=r},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(t,n,i){r(this,e),this.wfs=t,this.files=n,this.processFile=i}return i(e,[{key:"watch",value:function(e,t,n,r,i,u,o){var s=this;this.wfs.watch(e,t,n,r,i,function(e,t,n,r,i,o){if(e)return u(e);t&&t.forEach(s.processFile),u(e,t,n,r,i,o)},function(e,t){o(e,t)})}}]),e}();t.default=u},,,,function(e,t){e.exports=require("fs")},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(27),s=r(o),l=n(5),c=r(l),a=n(8),f=r(a),d=n(9),p=r(d),h=n(7),y=r(h),v=n(10),b=r(v),g=n(23),_=r(g),w=function(){function e(t){i(this,e),this.files=[],this.first=!0,this.src=t.src,this.ext=t.ext,this.processFile=this.processFile.bind(this),this.walkSync=this.walkSync.bind(this),this.processAll=this.processAll.bind(this),this.apply=this.apply.bind(this)}return u(e,[{key:"processFile",value:function(e,t){if(/\.js$/.test(e)){var n=s.default.readFileSync(e,"utf8"),r=(0,y.default)(n);if(!r)return;for(var i=(0,b.default)(r),u=i.exec(n),o=[];null!==u&&u.length>=2;)o.push({isComponent:!!u[1],level:parseInt(u[5]),css:u[6]}),u=i.exec(n);if(o.length){for(var l="",a=0,d=0;d<o.length;d++){var h=o[d];h.isComponent&&(l+="."+(0,f.default)(e,a++),h.level&&(l+="._rx1"),l+=" {"),l+=h.css,h.isComponent&&(l+="}"),l+="\n"}var v=(0,p.default)(this.src,e,this.ext);console.log("Generating "+v),s.default.existsSync(c.default.join(this.src,".generated"))||s.default.mkdirSync(c.default.join(this.src,".generated")),s.default.writeFileSync(v,l,"utf8")}}}},{key:"walkSync",value:function(e,t){var n=this;s.default.lstatSync(e).isDirectory()?s.default.readdirSync(e).map(function(r){return n.walkSync(c.default.join(e,r),t)}):t(e)}},{key:"processAll",value:function(e){var t=this,n=c.default.join(this.src,".generated");if(s.default.existsSync(n)){var r=[];this.walkSync(n,function(e){return r.push(e)}),r.forEach(function(e){return s.default.unlinkSync(e)})}this.walkSync(this.src,function(n){return t.processFile(n,e)})}},{key:"apply",value:function(e){var t=this;e.plugin("after-environment",function(){e.watchFileSystem=new _.default(e.watchFileSystem,t.files,t.processFile)}),e.plugin("entry-option",function(){t.processAll(t.files)}),e.plugin("done",function(e){})}}]),e}();t.default=w}]);